#include <std/assert>

import math

try:
    import a_non_existent_module
catch (e):
    assert_eq!(e[0], "ImportError")
end

import "04_variables.lc" from "." as vars

assert_eq!(vars.i, 100)
println(vars.i)

// export test
assert_eq!(vars.public_j, 200)
println(vars.public_j)

assert_err!(vars.j)  // j is private, should not be accessible

import math as m
assert_eq!(m.sqrt(16), 4.0)
assert_approx_eq!(m.PI, 3.141592653589793)
println(m.sqrt(16))
println(m.PI)

forget m

import (sin, cos as c) from math

assert_approx_eq!(sin(42), -0.9165215479156338)
assert_approx_eq!(c(42), -0.39998531498835127)

forget (sin, c)

import regex as re
assert_eq!(re.is_match(r"^hello", "hello world"), true)
assert_eq!(re.is_fancy(r"(?i)\b(hello)(\s+\1|\s+world)\b"), true)
assert_eq!(re.is_fancy(r"(?i)\b(hello)(world)\b"), false)

forget re
